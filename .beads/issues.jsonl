{"id":"FloatyNotey-0ib","title":"Implement floating NSPanel with WKWebView loading the PWA URL","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:35:14.548567+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:44:54.39744+10:00","closed_at":"2026-02-09T21:44:54.397443+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:2.2"]}
{"id":"FloatyNotey-0pl","title":"Scaffold Next.js app with TypeScript and Tailwind CSS","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:34:42.665708+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:25:01.763008+10:00","closed_at":"2026-02-09T21:25:01.763011+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:1.1"]}
{"id":"FloatyNotey-28l","title":"Integrate Tiptap editor with basic formatting (bold, italic, headings, checklists, code blocks)","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:34:47.980444+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:27:14.430112+10:00","closed_at":"2026-02-09T21:27:14.430115+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:1.2"]}
{"id":"FloatyNotey-2eq","title":"Implement note history navigation (⌘[ back, ⌘] forward)","description":"Maintain a session-scoped in-memory history stack (array of note IDs + cursor index). When a note is opened via the command palette, push its ID onto the stack and truncate any forward history (browser-style). ⌘[ (Ctrl+[ on non-Mac) moves the cursor back and loads the previous note. ⌘] moves forward. Save current note before navigating. No-op if at the start/end of the stack. Register these as global keyboard shortcuts. Depends on tasks 3.1 and 3.2.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:54.82705+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:23.154424+10:00","closed_at":"2026-02-11T06:46:23.154427+10:00","labels":["openspec:add-multi-note-editor","task:4.3"]}
{"id":"FloatyNotey-2nt","title":"Create note service module with CRUD operations and title derivation","description":"Build a note service module (e.g. pwa/src/lib/note-service.ts) exposing: create(), read(id), update(id, content), delete(id), list(), searchByTitle(query). Title is derived by extracting plaintext from the first line of Tiptap JSON content — return 'Untitled' if empty. list() returns notes sorted by pinned (true first), then modified (newest first). searchByTitle filters by case-insensitive substring match on derived title. Depends on task 1.1 (Dexie schema).","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:09:52.854009+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:21.691522+10:00","closed_at":"2026-02-11T06:46:21.691524+10:00","labels":["openspec:add-multi-note-editor","task:1.2"]}
{"id":"FloatyNotey-5zk","title":"Verify editor works correctly in macOS Swift shell after changes","description":"Manual verification: build and run the Swift shell (macos/), confirm the PWA loads in the WKWebView, test command palette (⌘K), note switching, history navigation (⌘[/⌘]), and note creation. Verify global hotkey (⌥N) still works. Confirm no keyboard shortcut conflicts between the Swift shell and the PWA. Depends on all previous tasks being complete.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:11:13.529569+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T20:25:45.711849+10:00","closed_at":"2026-02-11T20:25:45.711851+10:00","labels":["openspec:add-multi-note-editor","task:5.3"]}
{"id":"FloatyNotey-6mt","title":"Create minimal Swift/AppKit project (no Xcode project — use swift build or single-file compile)","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:35:09.227725+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:44:54.262559+10:00","closed_at":"2026-02-09T21:44:54.262562+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:2.1"]}
{"id":"FloatyNotey-7ua","title":"Add global hotkey (⌥ N) to toggle panel visibility","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:35:19.869551+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:44:54.525852+10:00","closed_at":"2026-02-09T21:44:54.525854+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:2.3"]}
{"id":"FloatyNotey-81n","title":"Verify PWA installs on desktop Chrome and iOS Safari (Add to Home Screen)","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:35:03.92145+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:43:00.646586+10:00","closed_at":"2026-02-09T21:43:00.646588+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:1.5"]}
{"id":"FloatyNotey-8px","title":"Add pin/unpin toggle for notes from palette","description":"Add a pin/unpin action for each note in the command palette (e.g. a pin icon button or keyboard shortcut on the highlighted item). Toggling updates the note's pinned field in IndexedDB and re-sorts the list immediately. Depends on tasks 1.2 and 4.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:48.22658+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:23.013625+10:00","closed_at":"2026-02-11T06:46:23.013629+10:00","labels":["openspec:add-multi-note-editor","task:4.2"]}
{"id":"FloatyNotey-9gm","title":"Persist note content to localStorage (single note for PoC)","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:34:53.292976+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:27:49.995521+10:00","closed_at":"2026-02-09T21:27:49.995524+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:1.3"]}
{"id":"FloatyNotey-9ko","title":"Implement note search by title with keyboard navigation","description":"Wire the command palette input to the note service's searchByTitle(). Display matching notes as a list with derived titles and modified dates. Support arrow key navigation (up/down) to highlight items and Enter to select. Highlighted item should have a visible focus style. Empty query shows all notes. Depends on tasks 1.2 and 2.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:09.681081+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.088958+10:00","closed_at":"2026-02-11T06:46:22.08896+10:00","labels":["openspec:add-multi-note-editor","task:2.2"]}
{"id":"FloatyNotey-ca0","title":"Show note list in command palette sorted by modified (newest first), pinned at top","description":"When the command palette opens with an empty query, display all notes sorted in two groups: pinned notes first (sorted by modified desc), then unpinned notes (sorted by modified desc). Each list item shows the derived title and a relative modified timestamp (e.g. '2m ago', 'yesterday'). Pinned notes should have a visual indicator (e.g. pin icon). Depends on tasks 1.2 and 2.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:43.492321+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.871366+10:00","closed_at":"2026-02-11T06:46:22.871368+10:00","labels":["openspec:add-multi-note-editor","task:4.1"]}
{"id":"FloatyNotey-d1t","title":"Add persistent New Note action in palette that creates and opens a blank note","description":"Add a always-visible 'New Note' action in the command palette (e.g. at the top of the list or as a fixed button). When selected, create a blank note via the note service and load it into the editor. Close the palette after creation. Depends on tasks 1.2, 2.1, and 3.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:14.24745+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.225705+10:00","closed_at":"2026-02-11T06:46:22.225708+10:00","labels":["openspec:add-multi-note-editor","task:2.3"]}
{"id":"FloatyNotey-huh","title":"Refactor editor component to load/save per-note Tiptap JSON from IndexedDB","description":"Rewrite pwa/src/components/editor.tsx to accept an active note ID (or note object) as state. On mount/note switch, load the note's Tiptap JSON content from IndexedDB via the note service and set it as editor content. On editor update, save the JSON back via note service. Replace the current single-note localStorage approach entirely. Use editor.commands.setContent() for note switches. Depends on tasks 1.1 and 1.2.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:25.690184+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.472966+10:00","closed_at":"2026-02-11T06:46:22.472969+10:00","labels":["openspec:add-multi-note-editor","task:3.1"]}
{"id":"FloatyNotey-kko","title":"Build command palette overlay component (⌘K to open, Escape to close)","description":"Create a modal overlay component (e.g. pwa/src/components/command-palette.tsx) triggered by ⌘K (Ctrl+K on non-Mac). Includes a text input for filtering and a scrollable list area below. Escape closes the palette. Clicking outside closes it. Dark-themed, styled with Tailwind to match Raycast Notes aesthetic — compact, centered, with subtle backdrop blur. Register the global keyboard shortcut at the app level.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:04.051784+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:21.954947+10:00","closed_at":"2026-02-11T06:46:21.954951+10:00","labels":["openspec:add-multi-note-editor","task:2.1"]}
{"id":"FloatyNotey-kyh","title":"Wire command palette to editor — switching notes saves current, loads selected","description":"Connect the command palette's note selection callback to the editor. When a note is selected: (1) save current editor content to the current note in IndexedDB, (2) set the selected note as active, (3) load selected note content into the editor, (4) close the palette. Manage active note ID in shared state (React state or context at the page level). Depends on tasks 2.2 and 3.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:32.623865+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.604904+10:00","closed_at":"2026-02-11T06:46:22.604907+10:00","labels":["openspec:add-multi-note-editor","task:3.2"]}
{"id":"FloatyNotey-lpe","title":"Migrate existing localStorage content to first IndexedDB note on initial load","description":"On app startup, check for 'floatynotey:content' in localStorage. If found, parse the HTML content, create a new note in IndexedDB with that content converted to Tiptap JSON, then delete the localStorage key. Must be idempotent — if no key exists, skip. Run once before the editor mounts. Depends on task 1.1 and 1.2.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:09:58.040892+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:21.824741+10:00","closed_at":"2026-02-11T06:46:21.824744+10:00","labels":["openspec:add-multi-note-editor","task:1.3"]}
{"id":"FloatyNotey-lqg","title":"Add editor toolbar to Tiptap with formatting controls (headings, bold, italic, bullets, code, checklist)","description":"Add a formatting toolbar to the Tiptap editor pane, styled to match Raycast Notes UI. The toolbar should include controls for: headings (H1, H2, H3), bold, italic, strikethrough, bullet list, ordered list, checklist, code inline, code block, and blockquote. Toolbar should be compact and sit at the top of the editor. Active formatting states should be visually indicated (e.g. bold button highlighted when cursor is in bold text). Use Tiptap's editor commands API to toggle formatting on click.","status":"open","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T21:49:49.366918+10:00","created_by":"Tim McVinish","updated_at":"2026-02-10T21:49:55.859893+10:00","labels":["feature:toolbar"]}
{"id":"FloatyNotey-mb0","title":"Verify editor works correctly inside WKWebView (keyboard input, formatting, scrolling)","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:35:25.188146+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:50:38.791326+10:00","closed_at":"2026-02-09T21:50:38.791331+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:2.4"]}
{"id":"FloatyNotey-r1p","title":"Verify PWA offline support still works with IndexedDB storage","description":"Manual verification: build the PWA, install it, go offline, confirm notes load from IndexedDB, create/edit/switch notes while offline, come back online and confirm no data loss. Update the service worker cache list if any new routes or assets were added. Depends on all previous tasks being complete.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:11:07.620343+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T20:25:45.583084+10:00","closed_at":"2026-02-11T20:25:45.583088+10:00","labels":["openspec:add-multi-note-editor","task:5.2"]}
{"id":"FloatyNotey-sah","title":"Add Vitest unit tests for note service CRUD and migration logic","description":"Set up Vitest if not already configured. Write unit tests for the note service module covering: create (generates UUID, sets timestamps), read, update (modified timestamp refreshed), delete, list (sort order with pinning), searchByTitle (case-insensitive, derived from first line), and title derivation edge cases (empty doc, blank first line -\u003e 'Untitled'). Test the localStorage migration: migrates when key exists, skips when absent, idempotent. Use fake-indexeddb for Dexie in tests. Depends on tasks 1.2 and 1.3.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:11:01.797712+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T18:18:58.466018+10:00","closed_at":"2026-02-11T18:18:58.466023+10:00","labels":["openspec:add-multi-note-editor","task:5.1"]}
{"id":"FloatyNotey-wrr","title":"Auto-update modified timestamp on content changes","description":"In the editor's onUpdate callback, update the active note's 'modified' field to the current ISO 8601 timestamp whenever content changes. Consider debouncing the save (e.g. 300ms) to avoid excessive IndexedDB writes on every keystroke. Depends on task 3.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:37.609335+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.736841+10:00","closed_at":"2026-02-11T06:46:22.736844+10:00","labels":["openspec:add-multi-note-editor","task:3.3"]}
{"id":"FloatyNotey-xp6","title":"Add note deletion from palette with confirmation","description":"Add a delete action for each note in the command palette (e.g. a trash icon or keyboard shortcut like ⌘⌫ on the highlighted item). Show a confirmation prompt before deleting. On deletion, remove note from IndexedDB. If the deleted note was the active note, load the most recently modified remaining note. If no notes remain, create a new blank note. Depends on tasks 1.2, 2.1, and 3.1.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:10:19.323515+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:22.348331+10:00","closed_at":"2026-02-11T06:46:22.348333+10:00","labels":["openspec:add-multi-note-editor","task:2.4"]}
{"id":"FloatyNotey-y1q","title":"Add Dexie.js and define IndexedDB schema (notes table with id, content, created, modified, pinned)","description":"Install dexie and dexie-react-hooks. Create a Dexie database class with a 'notes' table. Schema fields: id (UUID v4 string, primary key), content (Tiptap JSON object), created (ISO 8601 string), modified (ISO 8601 string), pinned (boolean, default false). No separate title field — title is derived from content at read time.","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-10T22:09:46.289013+10:00","created_by":"Tim McVinish","updated_at":"2026-02-11T06:46:17.044215+10:00","closed_at":"2026-02-11T06:46:17.044218+10:00","labels":["openspec:add-multi-note-editor","task:1.1"]}
{"id":"FloatyNotey-zki","title":"Add PWA manifest and service worker for installability and offline support","status":"closed","priority":2,"issue_type":"task","owner":"iam@tmcvee.com","created_at":"2026-02-08T22:34:58.589531+10:00","created_by":"Tim McVinish","updated_at":"2026-02-09T21:32:49.637575+10:00","closed_at":"2026-02-09T21:32:49.637586+10:00","labels":["openspec:add-pwa-and-swift-pocs","task:1.4"]}
